{
  "$schema": "https://json-schema.org/draft-04/schema#",

  "title": "TaskCompletedSuccessfully.v0",
  "description": "Initial json schema for Task Completed Successfully business event",

  "definitions": {
    "payload": {
      "type": "object",
      "properties": {
        "task_solved": {
          "type": "object",
          "properties": {
            "task_replication_id":                    { "type": "string" },
            "title":                                  { "type": "string" },
            "last_updated_by_manager_replication_id": { "type": "string" }
          }
        },
        "solved_by_candidate": {
          "type": "object",
          "properties": {
            "candidate_replication_id": { "type": "string" },
            "first_name":               { "type": "string" },
            "last_name":                { "type": "string" }
          }
        },
        "completed_at": { "type": "string" }
      },
      "required": [
        "task_solved",
        "solved_by_candidate",
        "completed_at"
      ]
    }
  },

  "type": "object",

  "properties": {
    "event_id":      { "type": "string" },
    "event_version": { "enum": [0] },
    "event_name":    { "enum": ["TaskCompletedSuccessfully"] },
    "produced_at":   { "type": "string" },
    "payload":       { "$ref": "#/definitions/payload" }
  },

  "required": [
    "event_id",
    "event_version",
    "event_name",
    "produced_at",
    "payload"
  ]
}
